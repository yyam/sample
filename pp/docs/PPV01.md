Programming Practices Volume #1
===============================
revision: 0.1 (2013.5.7)

[基本ルール](../README.md)

### Questions

* [Q101] 円の面積      (10行/15分)
* [Q102] 正規表現      (10行/30分)
* [Q103] バリデーション (10行/30分)
* [Q104] 等差数列の総和 (10行/30分)
* [Q105] 素数判定      (20行/30分)
* [Q106] 複利計算      (30行/45分)

想定実施合計: 3時間






[Q101] 円の面積
--------------
円の半径を指定すると面積を求める処理を作成して下さい。

###subroutine

	Vol01::circleArea.t

### 条件
 * 引数: 半径。スカラーの整数値。範囲は0以上100以下を対象とする。バリデーションは不問。引数が指定されなかったときは10をデフォルトとする。
 * 戻り値: 面積。小数点以下第9位を四捨五入し小数点以下8桁まで求める。
 * 円周率は、atan2(1, 1) * 4 の結果を用いる。

### ヒント
円の表面積を求める公式）

	球の体積 = 円周率 * r ^ 2

^はべき乗を表す

* 小数の桁数を揃えるためには、sprintfが便利です。  

例）2の平方根を、小数定価6桁(7桁目を四捨五入する)として得る

	my $r = sprintf("%.6f", sqrt(2));
	print $r, "\n"; 					# 1.414214

sprintfの詳細はperldoc -f sprintfで確認できます。
	
###test program

	t/circleArea

### 想定工数
10行程度 / 15分






[Q102] 正規表現
---------------

小数点を含む数字であることを判定する処理を作成して下さい。以下の文字パターンに一致するかどうかを判定します。

####パターン
 * 一つ以上の数字と、0または1つのピリオド(.)のみで構成されている。
 * 先頭には+または-のいずれかが１つ指定されていても構わない。

####パターンに合致する例）

	0
	123.456 
	123
	0.123
	.123
	123.0
	123.
	+123.456
	-.123

####パターンに合致しない例）

	12A3		# 数値、ピリオド以外の文字を含む
	123_		# 同上
	123+456		# 正負の記号が先頭にない
	123-		# 同上
	++123		# 正負の記号が２つ以上指定されている
	123--		# 正負の記号が先頭に無く、かつ複数指定されている
	1.2.3		# ピリオドを２つ以上含む
	123..		# 同上
	12..3		# 同上
	..123		# 同上
	.			# 数字を含まない
	'123 445' 	# 数字とピリオド以外の文字（空白）を含む

###subroutine

	Vol01::isFloat

###条件

* 引数: 検査する対象となる値。
* 戻り値: パターンに一致する場合は1を返す。引数が指定されていなかった場合や、一致しない場合は0を返す。

###test program

	t/isFloat.t

###想定工数
10行程度 / 30分







[Q103] バリデーション
--------------------
以下の条件に従い、指定された引数が0以上、かつ指定された値以下の整数であることを判定する処理を作成して下さい。扱える範囲は4294967294(0xFFFFFFFF - 1)までとします。

###subroutine

	Vol01::isNatural

###条件
* 引数: 
	* 第一引数: スカラーの整数。範囲は0以上4294967294以下。	* 第二引数: 範囲の上限を指定するスカラーの整数値。範囲は1以上4294967294。デフォルトは4294967294。
	* 第三引数: 範囲の下限を指定するスカラーの整数値。範囲は0以上4294967293かつ上限よりも小さい数であること。デフォルトは0。
* 戻り値: 第一引数に範囲内の整数値が指定されたときは1を返す。第一引数に範囲外の整数値が指定された場合は0を返す。第２引数、第３引数の指定が条件に合わない場合は-1を返す。

###test program

	t/isNatural.t

###想定工数
20行程度 / 30分






[Q104] 等差数列の総和
----------------------
引数として0以上の整数（範囲0以上92683以下）を指定すると、1から1づつ増加し指定された数まで増える数列の総和を求める処理を作成して下さい。(例: 10を指定すると1から10までの数を足して55となる)

###subroutine

	Vol01::sumTotal


###条件
* 引数: スカラーの自然数。範囲は0以上92683以下。引数が省略されたときのデフォルトは100とする。
* 戻り値: 0から引数で指定された数までの総和。引数に規定外の値が指定されたら-1を返す。 
* パフォーマンス: テスト環境上で実行した時に、引数に与える数を0から13ずつ増やし(0, 13, 26, 39, 52 …)、92683以下の最大値まで繰り返し実行した時(92677まで、7129回実行されることになる)の合計実行時間を15秒以内に終えること。

###test program

	t/sumTotal.t

###想定工数
10から20行程度 / 30分






[Q105] 素数判定
-------------------
引数として2以上4294967294以下の整数値を指定し、その数が素数であるかどうかを判定する関数を作成して下さい。

###subrounte
	
	Vol01::isPrime


### 条件
* 引数: スカラーの整数。範囲は0以上4294967294以下。
* 戻り値: 指定された数が素数だった場合は1を返す。規定内の値でありかつ素数でなかった場合は0を返す。規定外の値が引数に指定された場合は-1を返す。
* パフォーマンス: 4294967291(範囲の最大の素数)の判定を、5秒以内に終えること。

### ヒント
* [http://www.prime-numbers.org](http://www.prime-numbers.org)には、素数表が掲載されていますので、参考にすると良いかもしれません。ただし、これが正しいという保証はないという前提で問題に取り組んで下さい。
* 素因数分解した時の最大の数は平方根(sqrt)以下であるため、平方根以下の数で割り切れなければ、素数と判定できます。

#### 例）257

257の平方根は、16.031… であり、16以下の整数で割り切れなければ素数であるといえる。

###test program

	t/isPrime.t

###想定工数
10から20行程度 / 30分








[Q106] 複利計算
------------------
元金と利率を指定すると、元金に利息を加えた額を次の期間の元金とする複利計算を、指定された期間にわたって計算する処理を作成して下さい。基本計算式は以下のものを用います。

###基本計算式

	元金 * (1 + 利率) ^ 期間数

* ^はべき乗を表す
	

####subroutine

	Vol01::compound
	
### 条件
* 引数: 
	* 第1引数 - 元金。1以上100,000(十万)以下の整数値。デフォルトは10,000。
	* 第2引数 - 利率。単位はパーセンテージ。1以上10以下の整数または小数。デフォルトは5.0(%)。
	* 第3引数 - 期間。1以上、60以下の整数値。デフォルトは10。
	
* 戻り値:
	* 元金に利息を加えた額を指定された期間数分保持している配列のリファレンスを返す。
	* 配列の要素の先頭(0番目)には利息が加えられていない元金を保持し、その後指定された期間数分の要素が続く。例えば、期間に10が指定されたときは、0番目に元金を含み、その後計算された10個の要素が続く、11個の要素を含む配列を含む。
	* 配列に含む各値の計算は、(元金 * (1 + 利率) ^ 期間数) (^はべき乗を表す)によって求める。この値は前期間の値に利率を乗じて求められるものと異なるので、見本1）で上げられている計算結果を正とする。
	* 小数点以下は四捨五入する。
	* それぞれの引数に規定以外の値が指定されたときは0を返す。

#### 見本1)
元金10万円、利率 7%の10期間分の計算。

 0 … 100,000  
 1 … 100,000 * 1.07 ^ 1  = 107,000  
 2 … 100,000 * 1.07 ^ 2  = 114,490  
 3 … 100,000 * 1.07 ^ 3  = 122,504  
 4 … 100,000 * 1.07 ^ 4  = 131,080  
 5 … 100,000 * 1.07 ^ 5  = 140,255  
 6 … 100,000 * 1.07 ^ 6  = 150,073  
 7 … 100,000 * 1.07 ^ 7  = 160,578  
 8 … 100,000 * 1.07 ^ 8  = 171,819  
 9 … 100,000 * 1.07 ^ 9  = 183,846  
10 … 100,000 * 1.07 ^ 10 = 196,715  

###test program

	t/compound.t

###想定工数
30行程度 / 45分


---
[![bitgram](http://www.bitgram.net/img/logos/bitgram-banner-160x40.png)](http://www.bitgram.net)  
BitGram Corporation.
